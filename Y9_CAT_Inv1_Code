# Year 9 Mathematics Investigation: Computational Algorithms for Modeling Population Growth


# 1.2 Create and explain a reusable means of converting time periods
    # This section implements a reusable way to convert between time periods using a lookup table (dictionary of dictionaries).
    # This table allows conversion between days, half-days, quarter-days, hours, minutes, and seconds.

time_conversion = {
    'day': {'half-day': 2, 'quarter-day': 4, 'hour': 24, 'minute': 1440, 'second': 86400},
    'half-day': {'quarter-day': 2, 'hour': 12, 'minute': 720, 'second': 43200},
    'quarter-day': {'hour': 6, 'minute': 360, 'second': 21600},
    'hour': {'minute': 60, 'second': 3600},
    'minute': {'second': 60}
}

def convert_time_units(amount, from_unit, to_unit):
    """
    Converts an amount from one time unit to another using the lookup table.
    """
    units = ['day', 'half-day', 'quarter-day', 'hour', 'minute', 'second']
    from_index = units.index(from_unit)
    to_index = units.index(to_unit)
    factor = 1
    if from_index < to_index:
        for i in range(from_index, to_index):
            factor *= list(time_conversion[units[i]].values())[0]
    elif from_index > to_index:
        for i in range(to_index, from_index):
            factor /= list(time_conversion[units[i]].values())[0]
    return amount * factor


# PART I: NAIVE VS SOPHISTICATED MODEL COMPARISON

def compare_naive_with_sophisticated():

    # 2.1: Prompt for naive model
    print("Naive population model:")
    initial_population = int(input("Enter the initial population: "))
    growth_rate = float(input("Enter the growth rate (enter 7% as 7): "))
    growth_unit = input("Enter the growth rate time unit (day, half-day, quarter-day, hour, minute): ")

# 2.1: Prompt for sophisticated model
    print("Sophisticated population model:")
    initial_population_s = int(input("Enter the initial population: "))
    growth_rate_s = float(input("Enter the growth rate (enter 7% as 7): "))
    growth_unit_s = input("Enter the growth rate time unit (day, half-day, quarter-day, hour, minute): ")
    # 2.1.1: Accept a custom fission-event frequency
    fission_unit = input("Enter the fission-event frequency time unit (day, half-day, quarter-day, hour, minute, custom): ")
    if fission_unit == "custom":
        fission_events = int(input("Enter the number of fission events per growth rate time unit: "))
    else:
        fission_events = time_conversion[growth_unit_s][fission_unit]

   # 2.1: Summarise input data
    print(f"Naive Model: I = {initial_population}, g = {growth_rate}% per {growth_unit}")
    if fission_unit == "custom":
        print(f"Sophisticated Model: I = {initial_population_s}, g = {growth_rate_s}% per {growth_unit_s}, Fission-event frequency: {fission_events}")
    else:
        print(f"Sophisticated Model: I = {initial_population_s}, g = {growth_rate_s}% per {growth_unit_s}, Fission-event frequency: {fission_unit}")
    print(f"Projection timeframe: {projection_time} {projection_unit}")

 # 2.2: Calculate naive model
    periods = convert_time_units(projection_time, projection_unit, growth_unit)
    naive_population = initial_population + (growth_rate / 100) * initial_population * periods

 # 2.2: Calculate sophisticated model
    if fission_unit == "custom":
        sub_periods = fission_events * periods
        sub_growth_rate = growth_rate_s / fission_events
    else:
        sub_periods = convert_time_units(projection_time, projection_unit, fission_unit)
        sub_growth_rate = growth_rate_s / time_conversion[growth_unit_s][fission_unit]
    sophisticated_population = initial_population_s
    for _ in range(int(sub_periods)):
        sophisticated_population *= (1 + sub_growth_rate / 100)

        
    # 2.2: Output results
    print(f"Naive model projected population size: {round(naive_population, 2)}")
    print(f"Sophisticated model projected population size: {round(sophisticated_population, 2)}")

    
# PART II: TIME FOR A POPULATION TO REACH A TARGET SIZE (3.1, 3.2)

def calculate_time_to_target():

    print("MODULE 2: TIME FOR A POPULATION TO REACH A TARGET SIZE")
    # 3.1: Prompt for all required parameters
    initial_population = int(input("Enter the initial population: "))
    growth_rate = float(input("Enter the growth rate (enter 7% as 7): "))
    growth_unit = input("Enter the growth rate time unit (year, quarter, month, week, day): ")
    fission_unit = input("Enter the fission-event frequency time unit (day, half-day, quarter-day, hour, minute, custom): ")
    if fission_unit == "custom":
        fission_events = int(input("Enter the number of fission events per growth rate time unit: "))
    else:
        fission_events = time_conversion[growth_unit][fission_unit]
    target_population = float(input("Enter the target amount: "))

     # 3.1: Summarise input
    print(f"Sophisticated model: I = {initial_population}, g = {growth_rate}% per {growth_unit}, Fission-event frequency: {fission_events}")
    print(f"Target amount: {target_population}")

    # 3.2: Calculate projection and time taken
    sub_growth_rate = growth_rate / fission_events
    population = initial_population
    projection = [population]
    events = 0
    while population < target_population:
        population *= (1 + sub_growth_rate / 100)
        projection.append(population)
        events += 1
    print("Forward projection:", [round(p, 2) for p in projection])
    print(f"Time taken: {events} {fission_unit if fission_unit != 'custom' else f'{fission_events} per {growth_unit}'}")

